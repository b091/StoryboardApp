<div class="list-area">
    <div class="list-wrapper">
        <ul class="list" ng-repeat="status in storyboard.statuses">
            <h3 class="status">{{ status.name }}</h3>
            <hr/>
            <li ng-repeat="story in storyboard.stories | filter: {status: status.name}"
                ng-click="storyboard.selectStory(story)"
                story="story" storyboard="storyboard" data="data">
            </li>
            <li class="emptystatus"
                drop-container=""
                accepts="['application/x-story-status']"
                on-drop="storyboard.finalizeDrop(data)"
                on-drag-enter="storyboard.changeStoryStatus(data, status)"></li>
        </ul>
    </div>
</div>

<div class="details">
    <h3>Szczegóły karty</h3>

    <form name="storyboard.detailsForm" novalidate>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputTitle">Tytuł*</label>
                <input id="inputTitle"
                       type="text"
                       name="title"
                       placeholder="Tytuł historyjki"
                       class="form-control"
                       ng-model="storyboard.editedStory.title"
                       ng-required="true"
                       ng-minlength="5"
                       ng-maxlength="10"/>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputStatus">Status*</label>
                <select id="inputStatus"
                        name="status"
                        class="form-control"
                        ng-model="storyboard.editedStory.status"
                        ng-options="story.name as story.name for story in storyboard.statuses"
                        ng-required="true">
                    <option value="">Wybierz status</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputType">Typ*</label>
                <select id="inputType"
                        name="type"
                        class="form-control"
                        ng-model="storyboard.editedStory.type"
                        ng-options="type.name as type.name for type in storyboard.types"
                        ng-required="true">
                    <option value="">Wybierz typ</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputDescription">Opis</label>
                <textarea id="inputDescription"
                          name="description"
                          placeholder="Opis"
                          class="form-control"
                          ng-model="storyboard.editedStory.description">
                </textarea>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputAcceptanceCriteria">Kryteria akceptacji</label>
                <textarea id="inputAcceptanceCriteria"
                          name="acceptanceCriteria"
                          placeholder="Kryteria akceptacji"
                          class="form-control"
                          ng-model="storyboard.editedStory.criteria">
                </textarea>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputReporter">Raportujący*</label>
                <select id="inputReporter" name="type" class="form-control" ng-required="true">
                    <option value="">Wybierz..</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <div class="controls">
                <label class="control-label" for="inputAssignee">Wykonujący*</label>
                <select id="inputAssignee" name="type" class="form-control" ng-required="true">
                    <option value="">Wybierz..</option>
                </select>
            </div>
        </div>
        <div class="btn-group">
            <button class="btn btn-sm"
                    ng-show="!storyboard.editedStory.id"
                    ng-click="storyboard.createStory()">Create
            </button>
            <button class="btn btn-sm"
                    ng-show="storyboard.editedStory.id"
                    ng-disabled="!storyboard.detailsForm.$valid"
                    ng-click="storyboard.updateStory()">Update
            </button>
            <button class="btn btn-sm"
                    type="reset"
                    ng-show="storyboard.editedStory"
                    ng-click="storyboard.resetForm()">Cancel
            </button>
        </div>
    </form>
</div>